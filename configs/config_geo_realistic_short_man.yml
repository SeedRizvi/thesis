# Configuration file for GEO satellite orbit propagation
# Optimised for Factor Graph Optimization testing

scenario_parameters:
  time_step: 60  # 1 minute timesteps
  MJD_start: 59349.00
  MJD_end: 59349.15  # ~3.6 hours of data  
  max_time_step: 60
  output_directory: out/

initial_orbtial_parameters:
  dim_state: 6
  # GEO satellite with small inclination (5 degrees)
  # Position at GEO radius with slight inclination
  initial_state: [
    42014290.0,    # x (m) - near GEO radius
    0.0,           # y (m)
    3681524.0,     # z (m) - gives ~5 deg inclination
    0.0,           # vx (m/s)
    3066.0,        # vy (m/s) - orbital velocity at GEO
    0.0            # vz (m/s)
  ]
  initial_state_type: ECI

propagator_truth_settings:
  # High-fidelity propagation settings
  earth_gravity_model_order: 20  # Reduced for speed
  earth_gravity_model_degree: 20
  third_body_attraction: true
  third_body_sun: true
  third_body_moon: true
  solid_earth_tide: false  # Disabled for simplicity
  ocean_tide_loading: false  # Disabled for simplicity
  solar_radiation_pressure: true
  atmospheric_drag: false  # Negligible at GEO
  relativity_effect: true
  srpCoef: 1.0
  srpArea: 10.0
  dragCoef: 2.0
  dragArea: 5.0
  satMass: 1000.0

supporting_files:
  gravity_file: ./auxdata/GGM03S.txt
  ephemeris_file: ./auxdata/linux_p1550p2650.440
  ERP_file: ./auxdata/cod21587.erp

# Ground station network for measurements
ground_stations:
  - name: "New York"
    latitude: 40.7128   # degrees
    longitude: -74.0060  # degrees
    altitude: 0.0        # metres
    
  - name: "London"
    latitude: 51.5074
    longitude: -0.1278
    altitude: 0.0
    
  - name: "Tokyo"
    latitude: 35.6762
    longitude: 139.6503
    altitude: 0.0
    
  - name: "Sydney"
    latitude: -33.8688
    longitude: 151.2093
    altitude: 0.0
    
  - name: "Singapore"
    latitude: 1.3521
    longitude: 103.8198
    altitude: 0.0
    
  - name: "Sao Paulo"
    latitude: -23.5505
    longitude: -46.6333
    altitude: 0.0

# FGO-specific parameters
fgo_parameters:
  # Note: Set use_range to false for angular-only measurements
  # This will result in higher position errors (~7km RMS vs ~160m RMS with range)

  # Measurement configuration
  use_range: true  # Enable range measurements for better accuracy
  measurement_noise_deg: 0.00278  # Angular measurement noise (deg) - Currently 10 arcseconds
  range_noise_m: 100.0  # Range measurement noise in metres
  
  # Process noise (dynamics uncertainty)
  process_noise_position: 100.0  # Position process noise (m)
  process_noise_velocity: 0.01   # Velocity process noise (m/s)
  
  # Initial state errors (for testing)
  initial_position_error: 1000.0  # Initial position error std dev (m)
  initial_velocity_error: 1.0     # Initial velocity error std dev (m/s)
  
  # Optimisation settings
  max_iterations: 50
  convergence_threshold: 0.001

manoeuvre_parameters:
  # Manoeuvre Delta-V: [X, Y, Z] (m/s)
  delta_v: [0.0, 0.0, 1.0]
  # Post-Manoeuvre Propagation Duration
  pm_duration: 0.15  # Duration in days (0.15 days = 3.6 hours)